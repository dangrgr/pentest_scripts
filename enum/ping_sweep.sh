#!/bin/bash
# ping sweep excercise
# One-Liner (slow):
# cidr=192.168.1; echo "IPs that are up:"; for ip in {1..254}; do ping -c 1 -W 1 $cidr.$ip | grep "64 bytes" | awk -F " " {'print $4'} | tr -d \:; done

# As script (fast since terminating command line with & to background each loop iteration):
cidr=$1
if [ $1 == "" ]; then
	echo "Usage: $0 10.11.1"
	echo "Note: IP should be first 3 octects in /24"
else
echo "IPs that are up in $cidr.0/24:"
	for ip in {1..254}; do
		ping -c 1 -W 1 $cidr.$ip | grep "64 bytes" | awk -F " " {'print $4'} | tr -d \: &
	done
fi
